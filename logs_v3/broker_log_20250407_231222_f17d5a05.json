{"timestamp": "2025-04-08T02:12:22.528Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸš€ Initializing FastAPI Application (Message Broker API V3.1.5 (FastAPI/Tortoise/Fixes) v0.3.1.5-fastapi-tortoise-fixes)...", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "SETUP"}
{"timestamp": "2025-04-08T02:12:22.529Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "â±ï¸ Rate Limiter configured (Default: 200/minute, High Traffic: 200/second).", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "RATELIMIT"}
{"timestamp": "2025-04-08T02:12:22.530Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ›¡ï¸ CORS configured for origins: ['*']", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "SEC"}
{"timestamp": "2025-04-08T02:12:22.554Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ“ Configuring GraphQL endpoint with Strawberry...", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "GRAPHQL"}
{"timestamp": "2025-04-08T02:12:22.570Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ“ GraphQL endpoint /graphql configured with Apollo Sandbox IDE.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "GRAPHQL"}
{"timestamp": "2025-04-08T02:12:22.571Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ Main execution block entered...", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "SETUP"}
{"timestamp": "2025-04-08T02:12:22.571Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Checking for SSL certificate and key...", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "SEC"}
{"timestamp": "2025-04-08T02:12:22.571Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ›¡ï¸ SSL Certificate 'cert.pem' and Key 'key_nopass.pem' found in 'certs_v3'.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "SEC"}
{"timestamp": "2025-04-08T02:12:22.572Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "=== Configuration Summary ===", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "SETUP"}
{"timestamp": "2025-04-08T02:12:22.572Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  Project: Message Broker API V3.1.5 (FastAPI/Tortoise/Fixes) v0.3.1.5-fastapi-tortoise-fixes", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "INFO"}
{"timestamp": "2025-04-08T02:12:22.572Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  Environment: production", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "INFO"}
{"timestamp": "2025-04-08T02:12:22.572Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  Log Level: INFO", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "LOGS"}
{"timestamp": "2025-04-08T02:12:22.572Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  JWT Secret: Using Generated/Default (INSECURE FOR PROD)", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "AUTH"}
{"timestamp": "2025-04-08T02:12:22.573Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  DB Path: C:\\projeto message broker replika ai v1\\databases\\message_broker_v3.db", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "DB"}
{"timestamp": "2025-04-08T02:12:22.573Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  Rate Limit (Default): 200/minute", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "RATELIMIT"}
{"timestamp": "2025-04-08T02:12:22.573Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  Rate Limit (High Traffic): 200/second", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "RATELIMIT"}
{"timestamp": "2025-04-08T02:12:22.573Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  CORS Origins: ['*']", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "HTTP"}
{"timestamp": "2025-04-08T02:12:22.574Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  Log Dir: logs_v3 (Current File: broker_log_20250407_231222_f17d5a05.json)", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "LOGS"}
{"timestamp": "2025-04-08T02:12:22.574Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "  Cert Dir: certs_v3", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "SEC"}
{"timestamp": "2025-04-08T02:12:22.575Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "============================", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "SETUP"}
{"timestamp": "2025-04-08T02:12:22.576Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸŒðŸš€ Starting Uvicorn server on https://0.0.0.0:8777", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "STARTUP", "reload": false, "log_level": "info"}
{"timestamp": "2025-04-08T02:12:22.576Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "   Access API root at: https://localhost:8777/", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "HTTP"}
{"timestamp": "2025-04-08T02:12:22.577Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "   Swagger UI docs:  https://localhost:8777/docs", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "HTTP"}
{"timestamp": "2025-04-08T02:12:22.577Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "   ReDoc docs:       https://localhost:8777/redoc", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "HTTP"}
{"timestamp": "2025-04-08T02:12:22.578Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "   GraphQL endpoint: https://localhost:8777/graphql (Apollo Sandbox IDE)", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "GRAPHQL"}
{"timestamp": "2025-04-08T02:12:22.578Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "   Press Ctrl+C to stop the server.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "INFO"}
{"timestamp": "2025-04-08T02:12:22.723Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸš€ Application Startup Initiated...", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "STARTUP"}
{"timestamp": "2025-04-08T02:12:22.724Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ’¾ Configuring Tortoise ORM for SQLite: sqlite:///C:\\projeto message broker replika ai v1\\databases\\message_broker_v3.db", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "DB"}
{"timestamp": "2025-04-08T02:12:22.764Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ’¾ Generating DB schemas if necessary...", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "DB"}
{"timestamp": "2025-04-08T02:12:22.783Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ’¾ ORM tables verified/created successfully.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "DB"}
{"timestamp": "2025-04-08T02:12:22.783Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ“Š Fetching broker stats from DB...", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 188, "icon_type": "STATS"}
{"timestamp": "2025-04-08T02:12:22.796Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ“Š Broker stats updated.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "STATS", "counts": {"queues": 3, "pending": 105721, "processing": 91, "processed": 0, "failed": 0}}
{"timestamp": "2025-04-08T02:12:22.797Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸš€ Application Startup Complete. Ready to accept connections.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "STARTUP"}
{"timestamp": "2025-04-08T02:12:31.843Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ”‘ POST /login attempt for user: 'admin'", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "AUTH", "client": "127.0.0.1"}
{"timestamp": "2025-04-08T02:12:31.844Z", "level": "WARNING", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸš¨ Using hardcoded 'admin'/'admin' credentials for login. This is insecure!", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 185, "icon_type": "AUTH"}
{"timestamp": "2025-04-08T02:12:31.851Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Tokens generated for 'admin'.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "AUTH"}
{"timestamp": "2025-04-08T02:12:31.855Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ“¥ GET /queues/minha-fila-teste-stress request by user 'admin'", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "QUEUE"}
{"timestamp": "2025-04-08T02:12:31.865Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Details for queue 'minha-fila-teste-stress' (ID: 3) returned.", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "QUEUE"}
{"timestamp": "2025-04-08T02:12:31.891Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ”„ GET /queues/minha-fila-teste-stress/messages/consume request by 'admin'", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:31.895Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Message ID 157 consumed from queue 'minha-fila-teste-stress' (status -> processing).", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:31.896Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Error consuming message from queue 'minha-fila-teste-stress': 1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 894815, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "exception": {"type": "ValidationError", "value": "1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 894815, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "traceback": "Traceback hidden in production"}}
{"timestamp": "2025-04-08T02:12:31.897Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "HTTP Error Handled: Status=500, Detail='Error consuming message from queue' (GET /queues/minha-fila-teste-stress/messages/consume)", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "client": "127.0.0.1", "headers": null}
{"timestamp": "2025-04-08T02:12:32.909Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ”„ GET /queues/minha-fila-teste-stress/messages/consume request by 'admin'", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:32.910Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Message ID 157 consumed from queue 'minha-fila-teste-stress' (status -> processing).", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:32.911Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Error consuming message from queue 'minha-fila-teste-stress': 1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 910739, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "exception": {"type": "ValidationError", "value": "1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 910739, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "traceback": "Traceback hidden in production"}}
{"timestamp": "2025-04-08T02:12:32.911Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "HTTP Error Handled: Status=500, Detail='Error consuming message from queue' (GET /queues/minha-fila-teste-stress/messages/consume)", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "client": "127.0.0.1", "headers": null}
{"timestamp": "2025-04-08T02:12:33.920Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ”„ GET /queues/minha-fila-teste-stress/messages/consume request by 'admin'", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:33.923Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Message ID 157 consumed from queue 'minha-fila-teste-stress' (status -> processing).", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:33.923Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Error consuming message from queue 'minha-fila-teste-stress': 1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 922506, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "exception": {"type": "ValidationError", "value": "1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 922506, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "traceback": "Traceback hidden in production"}}
{"timestamp": "2025-04-08T02:12:33.924Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "HTTP Error Handled: Status=500, Detail='Error consuming message from queue' (GET /queues/minha-fila-teste-stress/messages/consume)", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "client": "127.0.0.1", "headers": null}
{"timestamp": "2025-04-08T02:12:34.931Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "ðŸ”„ GET /queues/minha-fila-teste-stress/messages/consume request by 'admin'", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 183, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:34.933Z", "level": "INFO", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Message ID 157 consumed from queue 'minha-fila-teste-stress' (status -> processing).", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 184, "icon_type": "MSG"}
{"timestamp": "2025-04-08T02:12:34.933Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "Error consuming message from queue 'minha-fila-teste-stress': 1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 932335, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "exception": {"type": "ValidationError", "value": "1 validation error for MessageResponse\nqueue_id\n  Field required [type=missing, input_value={'id': 157, 'queue': 'min..., 932335, tzinfo=<UTC>)}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "traceback": "Traceback hidden in production"}}
{"timestamp": "2025-04-08T02:12:34.934Z", "level": "ERROR", "name": "MessageBroker", "pid": 2708, "thread": "MainThread", "message": "HTTP Error Handled: Status=500, Detail='Error consuming message from queue' (GET /queues/minha-fila-teste-stress/messages/consume)", "pathname": "c:\\projeto message broker replika ai v1\\message-broker-v2-clean.py", "lineno": 186, "icon_type": "ERROR", "client": "127.0.0.1", "headers": null}
